### СЕТЬ
#### Модуль ip

>ip a
>ip addr show - спиок интерфейсов
ip addr show enp2s0 - инфа о конкретном интерфейсе
ip -br a show enp2s0 - краткий вариант
>ip -br a - список интерфейсов краткий вариант
>ip l - СПИСОК ИНТЕРФЕЙСОВ
sudo ip route add 91.209.147.0/24  via 192.168.1.1 dev enp2s0

91.209.147.0 - 91.209.147.255


### список подключения - сетевых интерфейсов
* nmcli connection show - все сетвые подключения.
* ip -br link show - то же 
ifconfig - 
### Активные TCP соединения
* netstat -tn
-t: TCP соединения
-u: UDP соединения
-l: Листенинг (слушающие порты)
-n: Печать числовых адресов и портов (без попытки разрешения имен)
-p: Показать PID и имя процесса

* ss -tn
ss -t state established -a src 192.168.1.14 - вывести все established соедиения для established
ss -t -a dst 8.8.8.8 - удаленный IP-адрес
ss -tn sport = :80 - порт
ss -tn dport = :443 - удаленный порт
-t: Показывает только TCP соединения.
-u: Показывает только UDP соединения.
-x: Показывает только сокеты UNIX.
-l: Показывает только прослушивающие сокеты.
-a: Показывает все сокеты (включает прослушивающие и установленные соединения).
-n: Показывает адреса и порты в числовом формате, а не разрешает их в имена хостов и сервисов.
-p: Показывает PID и имя процесса, который использует сокет.
-e: Показывает расширенную информацию о сокетах, включая дополнительные параметры и состояние.
-s: Показывает статистику для каждого типа сокета.
-r: Показывает информацию о маршрутах и промежуточных узлах.
-i: Показывает состояние интерфейсов.
#### узать болльше об ip
whois 1.1.1.1


#### route

ip route - список маршрутов
sudo ip route add 91.209.147.0/24  via 192.168.1.1 dev enp2s0 - добавть маршрут 
sudo ip route del <destination> via <gateway> dev <interface> - удалить

### пример файла статистечго маршрута /etc/netplan/01-network-manager-all.yaml
sudo chmod 600 /etc/netplan/01-network-manager-all.yaml


network:
  version: 2
  renderer: NetworkManager
  ethernets:
    enp2s0:
      dhcp4: yes  # Включение DHCP для получения IP-адреса
      routes:
        - to: 91.209.147.0/24  # Диапазон IP-адресов
          via: 192.168.1.1      # Шлюз для маршрутизации


### сброс кеша DNS
sudo systemctl restart NetworkManager

#### Основные флаги:
UP - Интерфейс включен и активен. Он готов к передаче и приему данных.

DOWN -Интерфейс выключен и неактивен. Данные не могут передаваться или приниматься.

BROADCAST- Интерфейс поддерживает широковещательную передачу данных (например, отправку пакетов на адрес 255.255.255.255).

MULTICAST - Интерфейс поддерживает многоадресную передачу (multicast), позволяя отправлять данные нескольким адресатам в сети одновременно.

LOOPBACK - Интерфейс является петлевым (loopback), используется для внутреннего обмена данными внутри системы (например, lo с IP-адресом 127.0.0.1).

LOWER_UP - Флаг указывает, что физический уровень соединения активен. Например, это может означать, что сетевой кабель подключен, или что есть активное беспроводное соединение.

NOARP - нтерфейс не использует ARP (Address Resolution Protocol) для сопоставления IP-адресов с MAC-адресами. Обычно используется для некоторых специальных конфигураций, например, в точках беспроводного доступа.

PROMISC - Интерфейс находится в промискуитетном (promiscuous) режиме, то есть он принимает все входящие пакеты, даже если они не адресованы этому интерфейсу. Это часто используется для анализа трафика.

ALLMULTI - Интерфейс принимает все многоадресные (multicast) пакеты, не только те, которые адресованы ему напрямую.
